
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>vlnm.normalizers.vowel &#8212; VLNM 0.0.0 documentation</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/style.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/jupyter.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/vlnm/css/vlnm.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="vlnm.data" href="../../data.html" />
    <link rel="prev" title="vlnm.normalizers.speaker" href="speaker.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../../index.html">
    <img class="logo" src="../../_static/images/logo.svg" alt="Logo"/>
    
    <h1 class="logo logo-name">VLNM</h1>
    
  </a>
</p>



<p class="blurb">Vowel normalization using Python</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=mwibrow&repo=vlnm&type=watch&count=False&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Vowel Normalization</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../quickstart.html">Getting started</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../data.html">Datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bibliography.html">Bibliography</a></li>
</ul>


        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-vlnm.normalizers.vowel">
<span id="vlnm-normalizers-vowel"></span><h1><a class="reference internal" href="#module-vlnm.normalizers.vowel" title="vlnm.normalizers.vowel"><code class="xref py py-mod docutils literal notranslate"><span class="pre">vlnm.normalizers.vowel</span></code></a><a class="headerlink" href="#module-vlnm.normalizers.vowel" title="Permalink to this headline">¶</a></h1>
<div class="section" id="vowel-intrinsic-normalizers">
<h2>Vowel intrinsic normalizers<a class="headerlink" href="#vowel-intrinsic-normalizers" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt>The following normalizers are implemented in the <code class="docutils literal notranslate"><span class="pre">vlnm.normalizers.vowel</span></code> module:</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#vlnm.normalizers.vowel.BarkDifferenceNormalizer" title="vlnm.normalizers.vowel.BarkDifferenceNormalizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">BarkDifferenceNormalizer</span></code></a></p></li>
<li><p><a class="reference internal" href="#vlnm.normalizers.vowel.IEGMAGMNormalizer" title="vlnm.normalizers.vowel.IEGMAGMNormalizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">IEGMAGMNormalizer</span></code></a></p></li>
<li><p><a class="reference internal" href="#vlnm.normalizers.vowel.IEHTNormalizer" title="vlnm.normalizers.vowel.IEHTNormalizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">IEHTNormalizer</span></code></a></p></li>
</ul>
</dd>
</dl>
<dl class="class">
<dt id="vlnm.normalizers.vowel.BarkDifferenceNormalizer">
<em class="property">class </em><code class="descname">BarkDifferenceNormalizer</code><span class="sig-paren">(</span><em>f0=None</em>, <em>f1=None</em>, <em>f2=None</em>, <em>f3=None</em>, <em>transform=None</em>, <em>rename=None</em>, <em>groupby=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/vlnm/normalizers/vowel.html#BarkDifferenceNormalizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#vlnm.normalizers.vowel.BarkDifferenceNormalizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalize formant data according to <span><span><a class="xref cite natbib reference internal" href="../../bibliography.html#syrdal_gopal_1986"><span><span class="authors"><span><span><span>Syrdal</span></span><span> &amp; </span><span><span>Gopal</span></span></span></span></span></a> <span>(</span><span><a class="xref cite natbib reference internal" href="../../bibliography.html#syrdal_gopal_1986"><span><span>1986</span></span></a></span><span>)</span></span></span>.</p>
<p>Vowels are normalized by converting formants to the
Bark scale, calculating the difference <span class="math notranslate nohighlight">\(Z\)</span> between
consecutive formants:</p>
<div class="math notranslate nohighlight">
\[F_{i}^* = B(F_i) - B(F_{i-1})\mbox{ for } 1 \leq i \leq 3\]</div>
<p>Where <span class="math notranslate nohighlight">\(B\)</span> is a function converting the <span class="math notranslate nohighlight">\(i\mbox{th}\)</span>
formant measured in hertz to the Bark scale.</p>
<p>To use this normalizer in the <a class="reference internal" href="vlnm.html#vlnm.normalize" title="vlnm.normalize"><code class="xref py py-func docutils literal notranslate"><span class="pre">vlnm.normalize()</span></code></a> function,
use <code class="docutils literal notranslate"><span class="pre">method='barkdiff'</span></code>.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul>
<li><p><strong>f0, f1, f2, f3</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> of <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>)</p>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> columns containing formant data.
If omitted, any columns from the list
<code class="docutils literal notranslate"><span class="pre">['f0',</span> <span class="pre">'f1',</span> <span class="pre">'f2',</span> <span class="pre">'f3']</span></code> that
are in the DataFrame will be used.</p>
</li>
<li><p><strong>transform</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">callable(ndarray)</span></code> returns <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>)</p>
<p>Replace the function that transforms formants from
the Hz scale to the Bark scale.
The function should take numpy array-compatible data structure
(e.g., <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.25.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a>, or <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>)
<em>containing only the formant data</em>,
and return the transformed data.</p>
</li>
</ul>
</dd>
<dt class="field-even">Other Parameters</dt>
<dd class="field-even"><ul>
<li><p><strong>rename</strong></p>
<p>Rename output columns.
See <a class="reference internal" href="../quickstart.html#normalization-renaming"><span class="std std-ref">renaming columns</span></a>
for details.</p>
</li>
<li><p><strong>groupby</strong></p>
<p>One or more columns over which to group
the data before normalization.
See <a class="reference internal" href="../quickstart.html#normalization-grouping"><span class="std std-ref">grouping data</span></a>
for details.</p>
</li>
<li><p><strong>**kwargs</strong></p>
<p>Optional keyword arguments passed to the parent constructor.</p>
</li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">BarkDifference</span></code> normalizer returns columns
<span class="vlnm-col">f1</span> (if <span class="math notranslate nohighlight">\(F_0\)</span> is present), <span class="vlnm-col">f2</span>, <span class="vlnm-col">f3</span>:</p>
<div class="jupyter line-block">
<div class="jupyter-block line-block">
<div class="jupyter-container line-block">
<div class="jupyter-cell highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">vlnm</span> <span class="kn">import</span> <span class="n">pb1952</span><span class="p">,</span> <span class="n">BarkDifferenceNormalizer</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pb1952</span><span class="p">([</span><span class="s1">&#39;speaker&#39;</span><span class="p">,</span> <span class="s1">&#39;vowel&#39;</span><span class="p">,</span> <span class="s1">&#39;f0&#39;</span><span class="p">,</span> <span class="s1">&#39;f1&#39;</span><span class="p">,</span> <span class="s1">&#39;f2&#39;</span><span class="p">,</span> <span class="s1">&#39;f3&#39;</span><span class="p">])</span>
<span class="n">norm</span> <span class="o">=</span> <span class="n">BarkDifferenceNormalizer</span><span class="p">(</span><span class="n">rename</span><span class="o">=</span><span class="s1">&#39;{}*&#39;</span><span class="p">)</span>
<span class="n">norm_df</span> <span class="o">=</span> <span class="n">norm</span><span class="o">.</span><span class="n">normalize</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">norm_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="jupyter-output line-block">
<div class="jupyter-block line-block">
<div class="jupyter-container line-block">
<table class="dataframe">
<thead>
<tr class="head">
<th class="column-index">
</th>
<th class="column-speaker">
speaker</th>
<th class="column-vowel">
vowel</th>
<th class="column-f0">
f0</th>
<th class="column-f1">
f1</th>
<th class="column-f2">
f2</th>
<th class="column-f3">
f3</th>
<th class="column-f1* column-dtype-float64" colspan=2 style="text-align: center;">
f1*</th>
<th class="column-f2* column-dtype-float64" colspan=2 style="text-align: center;">
f2*</th>
<th class="column-f3* column-dtype-float64" colspan=2 style="text-align: center;">
f3*</th></tr></thead>
<tbody>
<tr class="row-1 row-even">
<td class="column-index column-dtype-None">
0</td>
<td class="column-speaker column-dtype-str">
1</td>
<td class="column-vowel column-dtype-str">
iy</td>
<td class="column-f0 column-dtype-int64">
160</td>
<td class="column-f1 column-dtype-int64">
240</td>
<td class="column-f2 column-dtype-int64">
2280</td>
<td class="column-f3 column-dtype-int64">
2850</td>
<td style="text-align: right; padding-right: 0;">
0</td>
<td style="text-align: left; padding-left: 0;">
.901</td>
<td style="text-align: right; padding-right: 0;">
11</td>
<td style="text-align: left; padding-left: 0;">
.492</td>
<td style="text-align: right; padding-right: 0;">
1</td>
<td style="text-align: left; padding-left: 0;">
.469</td></tr>
<tr class="row-2 row-odd">
<td class="column-index column-dtype-None">
1</td>
<td class="column-speaker column-dtype-str">
1</td>
<td class="column-vowel column-dtype-str">
iy</td>
<td class="column-f0 column-dtype-int64">
186</td>
<td class="column-f1 column-dtype-int64">
280</td>
<td class="column-f2 column-dtype-int64">
2400</td>
<td class="column-f3 column-dtype-int64">
2790</td>
<td style="text-align: right; padding-right: 0;">
1</td>
<td style="text-align: left; padding-left: 0;">
.028</td>
<td style="text-align: right; padding-right: 0;">
11</td>
<td style="text-align: left; padding-left: 0;">
.407</td>
<td style="text-align: right; padding-right: 0;">
0</td>
<td style="text-align: left; padding-left: 0;">
.990</td></tr>
<tr class="row-3 row-even">
<td class="column-index column-dtype-None">
2</td>
<td class="column-speaker column-dtype-str">
1</td>
<td class="column-vowel column-dtype-str">
ih</td>
<td class="column-f0 column-dtype-int64">
203</td>
<td class="column-f1 column-dtype-int64">
390</td>
<td class="column-f2 column-dtype-int64">
2030</td>
<td class="column-f3 column-dtype-int64">
2640</td>
<td style="text-align: right; padding-right: 0;">
1</td>
<td style="text-align: left; padding-left: 0;">
.933</td>
<td style="text-align: right; padding-right: 0;">
9</td>
<td style="text-align: left; padding-left: 0;">
.191</td>
<td style="text-align: right; padding-right: 0;">
1</td>
<td style="text-align: left; padding-left: 0;">
.746</td></tr>
<tr class="row-4 row-odd">
<td class="column-index column-dtype-None">
3</td>
<td class="column-speaker column-dtype-str">
1</td>
<td class="column-vowel column-dtype-str">
ih</td>
<td class="column-f0 column-dtype-int64">
192</td>
<td class="column-f1 column-dtype-int64">
310</td>
<td class="column-f2 column-dtype-int64">
1980</td>
<td class="column-f3 column-dtype-int64">
2550</td>
<td style="text-align: right; padding-right: 0;">
1</td>
<td style="text-align: left; padding-left: 0;">
.269</td>
<td style="text-align: right; padding-right: 0;">
9</td>
<td style="text-align: left; padding-left: 0;">
.812</td>
<td style="text-align: right; padding-right: 0;">
1</td>
<td style="text-align: left; padding-left: 0;">
.686</td></tr>
<tr class="row-5 row-even">
<td class="column-index column-dtype-None">
4</td>
<td class="column-speaker column-dtype-str">
1</td>
<td class="column-vowel column-dtype-str">
eh</td>
<td class="column-f0 column-dtype-int64">
161</td>
<td class="column-f1 column-dtype-int64">
490</td>
<td class="column-f2 column-dtype-int64">
1870</td>
<td class="column-f3 column-dtype-int64">
2420</td>
<td style="text-align: right; padding-right: 0;">
3</td>
<td style="text-align: left; padding-left: 0;">
.327</td>
<td style="text-align: right; padding-right: 0;">
7</td>
<td style="text-align: left; padding-left: 0;">
.728</td>
<td style="text-align: right; padding-right: 0;">
1</td>
<td style="text-align: left; padding-left: 0;">
.723</td></tr></tbody></table></div>
</div>
</div>
</div>
<dl class="method">
<dt id="vlnm.normalizers.vowel.BarkDifferenceNormalizer.normalize">
<code class="descname">normalize</code><span class="sig-paren">(</span><em>df</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/vlnm/normalizers/vowel.html#BarkDifferenceNormalizer.normalize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#vlnm.normalizers.vowel.BarkDifferenceNormalizer.normalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalize formant data.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul>
<li><p><strong>df</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code>)</p>
<p>DataFrame containing formant data.</p>
</li>
<li><p><strong>**kwargs</strong></p>
<p>Passed to the parent method.</p>
</li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A DataFrame containing the normalized formants.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="vlnm.normalizers.vowel.IEGMAGMNormalizer">
<em class="property">class </em><code class="descname">IEGMAGMNormalizer</code><span class="sig-paren">(</span><em>f1='f1'</em>, <em>f2='f2'</em>, <em>f3='f3'</em>, <em>vowel='vowel'</em>, <em>rename=None</em>, <em>groupby=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/vlnm/normalizers/vowel.html#IEGMAGMNormalizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#vlnm.normalizers.vowel.IEGMAGMNormalizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalize formants according to
<span><span><a class="xref cite natbib reference internal" href="../../bibliography.html#ananthapadmanabha_ramakrishnan_2016"><span><span class="authors"><span><span><span>Ananthapadmanabha</span></span><span> &amp; </span><span><span>Ramakrishnan</span></span></span></span></span></a> <span>(</span><span><a class="xref cite natbib reference internal" href="../../bibliography.html#ananthapadmanabha_ramakrishnan_2016"><span><span>2016</span></span></a></span><span>, appendix B</span><span>)</span></span></span>.</p>
<p>Formants for a given token are
first normalized by dividing the values in Hz
by the geometric mean of the first three formants.
The normalized values are then ‘denormalized’ by
multiplying by the geometric mean of
the means for each vowel across all speakers.
Equivalently, for a given token of vowel <span class="math notranslate nohighlight">\(j\)</span>:</p>
<div class="math notranslate nohighlight">
\[F^*_{ij} = F_{ij}\left(
    \prod_{i=1}^{3}
        \frac{\mu_{ij}}{F_{ij}}
    \right)^{\frac{1}{3}}\]</div>
<p>Where <span class="math notranslate nohighlight">\(\mu_{ij}\)</span> is the mean of <span class="math notranslate nohighlight">\(F_i\)</span>
for vowel <span class="math notranslate nohighlight">\(j\)</span> for all tokens and speakers.</p>
<p>To use this normalizer in the <a class="reference internal" href="vlnm.html#vlnm.normalize" title="vlnm.normalize"><code class="xref py py-func docutils literal notranslate"><span class="pre">vlnm.normalize()</span></code></a> function,
use <code class="docutils literal notranslate"><span class="pre">method='ie-gmagm'</span></code>.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul>
<li><p><strong>f1, f2, f3</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> of <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>)</p>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> columns containing formant data.
If omitted, any columns from the list
<code class="docutils literal notranslate"><span class="pre">['f1',</span> <span class="pre">'f2',</span> <span class="pre">'f3']</span></code> that
are in the DataFrame will be used.</p>
</li>
<li><p><strong>vowel</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>)</p>
<p>The DataFrame column which contains the vowel labels.
If not given, defaults to <code class="docutils literal notranslate"><span class="pre">'vowel'</span></code>.</p>
</li>
</ul>
</dd>
<dt class="field-even">Other Parameters</dt>
<dd class="field-even"><ul>
<li><p><strong>rename</strong></p>
<p>Rename output columns.
See <a class="reference internal" href="../quickstart.html#normalization-renaming"><span class="std std-ref">renaming columns</span></a>
for details.</p>
</li>
<li><p><strong>groupby</strong></p>
<p>One or more columns over which to group
the data before normalization.
See <a class="reference internal" href="../quickstart.html#normalization-grouping"><span class="std std-ref">grouping data</span></a>
for details.</p>
</li>
<li><p><strong>**kwargs</strong></p>
<p>Optional keyword arguments passed to the parent constructor.</p>
</li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="jupyter line-block">
<div class="jupyter-block line-block">
<div class="jupyter-container line-block">
<div class="jupyter-cell highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">vlnm</span> <span class="kn">import</span> <span class="n">pb1952</span><span class="p">,</span> <span class="n">IEGMAGMNormalizer</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pb1952</span><span class="p">([</span><span class="s1">&#39;speaker&#39;</span><span class="p">,</span> <span class="s1">&#39;vowel&#39;</span><span class="p">,</span> <span class="s1">&#39;f1&#39;</span><span class="p">,</span> <span class="s1">&#39;f2&#39;</span><span class="p">,</span> <span class="s1">&#39;f3&#39;</span><span class="p">])</span>
<span class="n">norm</span> <span class="o">=</span> <span class="n">IEGMAGMNormalizer</span><span class="p">(</span><span class="n">rename</span><span class="o">=</span><span class="s1">&#39;{}*&#39;</span><span class="p">)</span>
<span class="n">norm_df</span> <span class="o">=</span> <span class="n">norm</span><span class="o">.</span><span class="n">normalize</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">norm_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="jupyter-output line-block">
<div class="jupyter-block line-block">
<div class="jupyter-container line-block">
<table class="dataframe">
<thead>
<tr class="head">
<th class="column-index">
</th>
<th class="column-speaker">
speaker</th>
<th class="column-vowel">
vowel</th>
<th class="column-f1">
f1</th>
<th class="column-f2">
f2</th>
<th class="column-f3">
f3</th>
<th class="column-f1* column-dtype-float64" colspan=2 style="text-align: center;">
f1*</th>
<th class="column-f2* column-dtype-float64" colspan=2 style="text-align: center;">
f2*</th></tr></thead>
<tbody>
<tr class="row-1 row-even">
<td class="column-index column-dtype-None">
0</td>
<td class="column-speaker column-dtype-str">
1</td>
<td class="column-vowel column-dtype-str">
iy</td>
<td class="column-f1 column-dtype-int64">
240</td>
<td class="column-f2 column-dtype-int64">
2280</td>
<td class="column-f3 column-dtype-int64">
2850</td>
<td style="text-align: right; padding-right: 0;">
283</td>
<td style="text-align: left; padding-left: 0;">
.98380</td>
<td style="text-align: right; padding-right: 0;">
2697</td>
<td style="text-align: left; padding-left: 0;">
.84613</td></tr>
<tr class="row-2 row-odd">
<td class="column-index column-dtype-None">
1</td>
<td class="column-speaker column-dtype-str">
1</td>
<td class="column-vowel column-dtype-str">
iy</td>
<td class="column-f1 column-dtype-int64">
280</td>
<td class="column-f2 column-dtype-int64">
2400</td>
<td class="column-f3 column-dtype-int64">
2790</td>
<td style="text-align: right; padding-right: 0;">
311</td>
<td style="text-align: left; padding-left: 0;">
.58713</td>
<td style="text-align: right; padding-right: 0;">
2670</td>
<td style="text-align: left; padding-left: 0;">
.74687</td></tr>
<tr class="row-3 row-even">
<td class="column-index column-dtype-None">
2</td>
<td class="column-speaker column-dtype-str">
1</td>
<td class="column-vowel column-dtype-str">
ih</td>
<td class="column-f1 column-dtype-int64">
390</td>
<td class="column-f2 column-dtype-int64">
2030</td>
<td class="column-f3 column-dtype-int64">
2640</td>
<td style="text-align: right; padding-right: 0;">
440</td>
<td style="text-align: left; padding-left: 0;">
.03521</td>
<td style="text-align: right; padding-right: 0;">
2290</td>
<td style="text-align: left; padding-left: 0;">
.43966</td></tr>
<tr class="row-4 row-odd">
<td class="column-index column-dtype-None">
3</td>
<td class="column-speaker column-dtype-str">
1</td>
<td class="column-vowel column-dtype-str">
ih</td>
<td class="column-f1 column-dtype-int64">
310</td>
<td class="column-f2 column-dtype-int64">
1980</td>
<td class="column-f3 column-dtype-int64">
2550</td>
<td style="text-align: right; padding-right: 0;">
385</td>
<td style="text-align: left; padding-left: 0;">
.16813</td>
<td style="text-align: right; padding-right: 0;">
2460</td>
<td style="text-align: left; padding-left: 0;">
.10613</td></tr>
<tr class="row-5 row-even">
<td class="column-index column-dtype-None">
4</td>
<td class="column-speaker column-dtype-str">
1</td>
<td class="column-vowel column-dtype-str">
eh</td>
<td class="column-f1 column-dtype-int64">
490</td>
<td class="column-f2 column-dtype-int64">
1870</td>
<td class="column-f3 column-dtype-int64">
2420</td>
<td style="text-align: right; padding-right: 0;">
582</td>
<td style="text-align: left; padding-left: 0;">
.12695</td>
<td style="text-align: right; padding-right: 0;">
2221</td>
<td style="text-align: left; padding-left: 0;">
.58651</td></tr></tbody></table></div>
</div>
</div>
</div>
</dd></dl>

<dl class="class">
<dt id="vlnm.normalizers.vowel.IEHTNormalizer">
<em class="property">class </em><code class="descname">IEHTNormalizer</code><span class="sig-paren">(</span><em>f1='f1'</em>, <em>f2='f2'</em>, <em>f3='f3'</em>, <em>vowel='vowel'</em>, <em>rename=None</em>, <em>groupby=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/vlnm/normalizers/vowel.html#IEHTNormalizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#vlnm.normalizers.vowel.IEHTNormalizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalize (and potentially relabel) formants
according in <span><span><a class="xref cite natbib reference internal" href="../../bibliography.html#ananthapadmanabha_ramakrishnan_2016"><span><span class="authors"><span><span><span>Ananthapadmanabha</span></span><span> &amp; </span><span><span>Ramakrishnan</span></span></span></span></span></a> <span>(</span><span><a class="xref cite natbib reference internal" href="../../bibliography.html#ananthapadmanabha_ramakrishnan_2016"><span><span>2016</span></span></a></span><span>)</span></span></span>.</p>
<p>Let <span class="math notranslate nohighlight">\(F^{\prime}_{ij}\)</span> be the raw formant value in Hz
for a particular token of vowel <span class="math notranslate nohighlight">\(j\)</span>
divided by the gemometric mean of the first three formants for
that token:</p>
<div class="math notranslate nohighlight">
\[F^{\prime}_{ij} = \frac{F_{ij}}
    { \left( \prod_{i=1}^{3}F_{ij} \right)^{\frac{1}{3}} }\]</div>
<p>Let <span class="math notranslate nohighlight">\(\mu_{ij}\)</span> be the mean of <span class="math notranslate nohighlight">\(F_i\)</span>
for vowel <span class="math notranslate nohighlight">\(j\)</span> for all tokens and speakers,
and define <span class="math notranslate nohighlight">\(F^{\prime\prime}_{ij}\)</span> as follows:</p>
<div class="math notranslate nohighlight">
\[F^{\prime\prime}_{ij} = F^{\prime}_{ij}\mu_{ij}\]</div>
<p>Then let <span class="math notranslate nohighlight">\(\mu^{\prime\prime}_{ij}\)</span> and <span class="math notranslate nohighlight">\(\sigma^{\prime\prime}_{ij}\)</span>
be the mean and standard deviation, respectively,
of <span class="math notranslate nohighlight">\(F^{\prime\prime}_i\)</span> for vowel <span class="math notranslate nohighlight">\(j\)</span> for all tokens and
speakers.
Then the normalized value can be calulated as follows:</p>
<div class="math notranslate nohighlight">
\[F^*_{ij^*} = F^\prime_{ij} \mu_{ij^*}\]</div>
<p>Where <span class="math notranslate nohighlight">\(j^*\)</span> is the vowel from the set of vowels <span class="math notranslate nohighlight">\(J\)</span>
such that:</p>
<div class="math notranslate nohighlight">
\[j^* = \underset{j \in J}{\text{argmin}}
    \left(
        \sum_{i=1}^{2}\left(
            \frac{F^\prime_{ij}\mu_{ij} - \mu^{\prime\prime}_{ij}}
                {\sigma^{\prime\prime}_{ij}}
        \right)^2
    \right)^{\frac{1}{2}}\]</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><span><span><a class="xref cite natbib reference internal" href="../../bibliography.html#ananthapadmanabha_ramakrishnan_2016"><span><span class="authors"><span><span><span>Ananthapadmanabha</span></span><span> &amp; </span><span><span>Ramakrishnan</span></span></span></span></span></a> <span>(</span><span><a class="xref cite natbib reference internal" href="../../bibliography.html#ananthapadmanabha_ramakrishnan_2016"><span><span>2016</span></span></a></span><span>)</span></span></span> appear
to suggest the use of <span class="math notranslate nohighlight">\(F^\prime_{ij}\mu^{\prime\prime}_{ij}\)</span>
when calculating <span class="math notranslate nohighlight">\(j^*\)</span>. However, this produces
meaningless results (and certainly not the results that
they report) so <span class="math notranslate nohighlight">\(F^\prime_{ij}\mu_{ij}\)</span> is used
in this implementation.</p>
</div>
<p>To use this normalizer in the <a class="reference internal" href="vlnm.html#vlnm.normalize" title="vlnm.normalize"><code class="xref py py-func docutils literal notranslate"><span class="pre">vlnm.normalize()</span></code></a> function,
use <code class="docutils literal notranslate"><span class="pre">method='ie-ht'</span></code>.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul>
<li><p><strong>f1, f2, f3</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> of <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>)</p>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code> columns containing formant data.
If omitted, any columns from the list
<code class="docutils literal notranslate"><span class="pre">['f1',</span> <span class="pre">'f2',</span> <span class="pre">'f3']</span></code> that
are in the DataFrame will be used.</p>
</li>
<li><p><strong>vowel</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>)</p>
<p>The DataFrame column which contains the vowel labels.
If not given, defaults to <code class="docutils literal notranslate"><span class="pre">'vowel'</span></code>.</p>
</li>
</ul>
</dd>
<dt class="field-even">Other Parameters</dt>
<dd class="field-even"><ul>
<li><p><strong>rename</strong></p>
<p>Rename output columns.
See <a class="reference internal" href="../quickstart.html#normalization-renaming"><span class="std std-ref">renaming columns</span></a>
for details.</p>
</li>
<li><p><strong>groupby</strong></p>
<p>One or more columns over which to group
the data before normalization.
See <a class="reference internal" href="../quickstart.html#normalization-grouping"><span class="std std-ref">grouping data</span></a>
for details.</p>
</li>
<li><p><strong>**kwargs</strong></p>
<p>Optional keyword arguments passed to the parent constructor.</p>
</li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>As the <a class="reference internal" href="#vlnm.normalizers.vowel.IEHTNormalizer" title="vlnm.normalizers.vowel.IEHTNormalizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">IEHTNormalizer</span></code></a> can relabel vowels
it also updates the <span class="vlnm-col">vowel</span> column.
The <code class="docutils literal notranslate"><span class="pre">rename</span></code> argument can be used to keep the
old labels.</p>
<div class="jupyter line-block">
<div class="jupyter-block line-block">
<div class="jupyter-container line-block">
<div class="jupyter-cell highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">vlnm</span> <span class="kn">import</span> <span class="n">pb1952</span><span class="p">,</span> <span class="n">IEHTNormalizer</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pb1952</span><span class="p">([</span><span class="s1">&#39;speaker&#39;</span><span class="p">,</span> <span class="s1">&#39;vowel&#39;</span><span class="p">,</span> <span class="s1">&#39;f1&#39;</span><span class="p">,</span> <span class="s1">&#39;f2&#39;</span><span class="p">,</span> <span class="s1">&#39;f3&#39;</span><span class="p">])</span>
<span class="n">norm</span> <span class="o">=</span> <span class="n">IEHTNormalizer</span><span class="p">(</span><span class="n">rename</span><span class="o">=</span><span class="s1">&#39;{}*&#39;</span><span class="p">)</span>
<span class="n">norm_df</span> <span class="o">=</span> <span class="n">norm</span><span class="o">.</span><span class="n">normalize</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">norm_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="jupyter-output line-block">
<div class="jupyter-block line-block">
<div class="jupyter-container line-block">
<table class="dataframe">
<thead>
<tr class="head">
<th class="column-index">
</th>
<th class="column-speaker">
speaker</th>
<th class="column-vowel">
vowel</th>
<th class="column-f1">
f1</th>
<th class="column-f2">
f2</th>
<th class="column-f3">
f3</th>
<th class="column-f1* column-dtype-float64" colspan=2 style="text-align: center;">
f1*</th>
<th class="column-f2* column-dtype-float64" colspan=2 style="text-align: center;">
f2*</th>
<th class="column-vowel*">
vowel*</th></tr></thead>
<tbody>
<tr class="row-1 row-even">
<td class="column-index column-dtype-None">
0</td>
<td class="column-speaker column-dtype-str">
1</td>
<td class="column-vowel column-dtype-str">
iy</td>
<td class="column-f1 column-dtype-int64">
240</td>
<td class="column-f2 column-dtype-int64">
2280</td>
<td class="column-f3 column-dtype-int64">
2850</td>
<td style="text-align: right; padding-right: 0;">
62</td>
<td style="text-align: left; padding-left: 0;">
.349</td>
<td style="text-align: right; padding-right: 0;">
5206</td>
<td style="text-align: left; padding-left: 0;">
.918</td>
<td class="column-vowel* column-dtype-str">
iy</td></tr>
<tr class="row-2 row-odd">
<td class="column-index column-dtype-None">
1</td>
<td class="column-speaker column-dtype-str">
1</td>
<td class="column-vowel column-dtype-str">
iy</td>
<td class="column-f1 column-dtype-int64">
280</td>
<td class="column-f2 column-dtype-int64">
2400</td>
<td class="column-f3 column-dtype-int64">
2790</td>
<td style="text-align: right; padding-right: 0;">
68</td>
<td style="text-align: left; padding-left: 0;">
.409</td>
<td style="text-align: right; padding-right: 0;">
5154</td>
<td style="text-align: left; padding-left: 0;">
.616</td>
<td class="column-vowel* column-dtype-str">
iy</td></tr>
<tr class="row-3 row-even">
<td class="column-index column-dtype-None">
2</td>
<td class="column-speaker column-dtype-str">
1</td>
<td class="column-vowel column-dtype-str">
ih</td>
<td class="column-f1 column-dtype-int64">
390</td>
<td class="column-f2 column-dtype-int64">
2030</td>
<td class="column-f3 column-dtype-int64">
2640</td>
<td style="text-align: right; padding-right: 0;">
133</td>
<td style="text-align: left; padding-left: 0;">
.664</td>
<td style="text-align: right; padding-right: 0;">
3681</td>
<td style="text-align: left; padding-left: 0;">
.082</td>
<td class="column-vowel* column-dtype-str">
ih</td></tr>
<tr class="row-4 row-odd">
<td class="column-index column-dtype-None">
3</td>
<td class="column-speaker column-dtype-str">
1</td>
<td class="column-vowel column-dtype-str">
ih</td>
<td class="column-f1 column-dtype-int64">
310</td>
<td class="column-f2 column-dtype-int64">
1980</td>
<td class="column-f3 column-dtype-int64">
2550</td>
<td style="text-align: right; padding-right: 0;">
116</td>
<td style="text-align: left; padding-left: 0;">
.997</td>
<td style="text-align: right; padding-right: 0;">
3953</td>
<td style="text-align: left; padding-left: 0;">
.761</td>
<td class="column-vowel* column-dtype-str">
ih</td></tr>
<tr class="row-5 row-even">
<td class="column-index column-dtype-None">
4</td>
<td class="column-speaker column-dtype-str">
1</td>
<td class="column-vowel column-dtype-str">
eh</td>
<td class="column-f1 column-dtype-int64">
490</td>
<td class="column-f2 column-dtype-int64">
1870</td>
<td class="column-f3 column-dtype-int64">
2420</td>
<td style="text-align: right; padding-right: 0;">
221</td>
<td style="text-align: left; padding-left: 0;">
.964</td>
<td style="text-align: right; padding-right: 0;">
3127</td>
<td style="text-align: left; padding-left: 0;">
.905</td>
<td class="column-vowel* column-dtype-str">
eh</td></tr></tbody></table></div>
</div>
</div>
</div>
</dd></dl>

</div>
</div>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2018-present, Mark Wibrow.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.0.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../_sources/normalizers/api/vowel.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>